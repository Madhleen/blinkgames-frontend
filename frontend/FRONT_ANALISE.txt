===== ./recuperar.html =====
<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Recuperar Senha ‚Äî BlinkGames</title>

    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="stylesheet" href="css/style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />

    <style>
      main {
        max-width: 420px;
        margin: 80px auto;
        text-align: center;
      }

      .panel {
        background: var(--panel);
        padding: 32px;
        border-radius: 16px;
        box-shadow: 0 0 25px rgba(255, 0, 200, 0.15),
          0 0 50px rgba(0, 224, 255, 0.1);
      }

      h1 {
        color: var(--accent-2);
        margin-bottom: 30px;
        font-family: "Press Start 2P", cursive;
        font-size: 1rem;
        letter-spacing: 0.5px;
      }

      label {
        display: block;
        text-align: left;
        margin-bottom: 6px;
        color: #ccc;
        font-size: 0.9rem;
      }

      input {
        width: 100%;
        padding: 10px 12px;
        border-radius: 8px;
        border: none;
        background: #1c0135;
        color: #fff;
        font-size: 0.95rem;
        outline: none;
      }

      input:focus {
        box-shadow: 0 0 0 2px var(--accent);
      }

      .btn {
        margin-top: 20px;
        width: 100%;
        padding: 12px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        background: linear-gradient(90deg, var(--accent), var(--accent-2));
        color: #fff;
        font-weight: bold;
        font-size: 1rem;
        transition: opacity 0.2s ease, transform 0.2s ease;
      }

      .btn:hover {
        opacity: 0.9;
        transform: scale(1.02);
      }

      p {
        color: #aaa;
        font-size: 0.9rem;
        margin-top: 18px;
      }

      a {
        color: var(--accent-2);
        text-decoration: none;
      }

      a:hover {
        color: var(--accent);
      }
    </style>
  </head>

  <body>
    <!-- Cabe√ßalho -->
    <div id="header"></div>

    <!-- ============================================================ -->
    <!-- üîê CONTE√öDO PRINCIPAL -->
    <!-- ============================================================ -->
    <main>
      <h1>üîë Recuperar Senha</h1>

      <section class="panel">
        <form id="recover-form">
          <label for="recoverEmail">Digite seu e-mail cadastrado</label>
          <input
            type="email"
            id="recoverEmail"
            placeholder="seuemail@exemplo.com"
            required
          />

          <button class="btn btn-primary" type="submit">
            üöÄ Enviar link de redefini√ß√£o
          </button>

          <p>
            üîô Lembrou sua senha?
            <a href="conta.html">Voltar para o login</a>
          </p>
        </form>

        <p id="feedback" style="margin-top:14px; color:#0ff; font-size:0.9rem; display:none;">
          <!-- mensagem din√¢mica JS -->
        </p>
      </section>
    </main>

    <!-- Rodap√© -->
    <footer class="footer">
      <div class="container">
        <p>¬© 2025 BlinkGames ‚Äî Todos os direitos reservados.</p>
      </div>
    </footer>

    <!-- Anima√ß√£o Pac-Man -->
    <div id="pacman-wrap"><canvas id="pacman-footer" height="58"></canvas></div>

    <!-- Scripts -->
    <script type="module" src="js/state.js"></script>
    <script type="module" src="js/header.js"></script>
    <script type="module" src="js/api.js"></script>
    <script type="module" src="js/recuperar.js"></script>
    <script type="module" src="js/pacman-bg.js"></script>

    <script>
      // üß© Feedback r√°pido (para UX sem recarregar)
      const form = document.getElementById("recover-form");
      const feedback = document.getElementById("feedback");

      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        const email = document.getElementById("recoverEmail").value.trim();

        feedback.style.display = "block";
        feedback.textContent = "‚è≥ Enviando link de recupera√ß√£o...";

        try {
          // Simula√ß√£o (aqui seu recuperar.js lida de fato com a API)
          await new Promise((r) => setTimeout(r, 1500));
          feedback.textContent = "‚úÖ Link de redefini√ß√£o enviado para " + email;
        } catch {
          feedback.textContent =
            "‚ùå Ocorreu um erro. Verifique o e-mail e tente novamente.";
        }
      });
    </script>
  </body>
</html>




===== ./js/winners.js =====
import { mountHeader } from './header.js'; import { WinnersAPI } from './api.js'; mountHeader();
const box=document.getElementById('winners'); async function load(){try{let list=await WinnersAPI.list(); if(!Array.isArray(list)||list.length===0){list=[{prize:'PlayStation 5 ‚Äì M√≠dia F√≠sica',winnerName:'Ana Luiza M.',date:'2025-08-10'},{prize:'Combo Teclado + Mouse Gamer',winnerName:'Jo√£o P. Santos',date:'2025-07-04'},{prize:'Headset RGB 7.1',winnerName:'Carlos R. Silva',date:'2025-06-21'}];} box.innerHTML=list.map(w=>`<article class="panel"><strong>${w.prize}</strong><div>Vencedor: ${w.winnerName||w.nome||'-'}</div><small>${w.date||w.data||''}</small></article>`).join('');}catch{box.innerHTML='<p>N√£o foi poss√≠vel listar vencedores.</p>';}} load();


===== ./js/nova-senha.js =====
// ============================================================
// üîë BlinkGames ‚Äî nova-senha.js (v3.0)
// ============================================================

const API_URL = "https://blinkgames-backend-p4as.onrender.com";

// üîπ L√™ o token da URL (?token=xyz)
const urlParams = new URLSearchParams(window.location.search);
const token = urlParams.get("token");

// üî∏ Se n√£o tiver token, bloqueia a p√°gina
if (!token) {
  alert("Link inv√°lido ou expirado.");
  window.location.href = "conta.html";
}

const form = document.getElementById("resetForm");

form.addEventListener("submit", async (e) => {
  e.preventDefault();

  const newPassword = document.getElementById("newPassword").value.trim();
  const confirmPassword = document.getElementById("confirmPassword").value.trim();

  if (!newPassword || !confirmPassword) {
    alert("‚ö†Ô∏è Preencha todos os campos!");
    return;
  }

  if (newPassword !== confirmPassword) {
    alert("‚ö†Ô∏è As senhas n√£o coincidem!");
    return;
  }

  try {
    const response = await fetch(`${API_URL}/api/auth/reset-password`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ token, newPassword }),
    });

    // L√™ o corpo cru antes de converter
    const text = await response.text();
    console.log("Resposta do servidor:", text);

    // Tenta converter pra JSON
    let data;
    try {
      data = JSON.parse(text);
    } catch {
      throw new Error("Resposta inesperada do servidor. Verifique o backend.");
    }

    if (!response.ok) throw new Error(data.error || "Erro ao redefinir senha.");

    alert("‚úÖ Senha redefinida com sucesso!");
    window.location.href = "conta.html";
  } catch (err) {
    console.error("‚ùå Erro ao redefinir senha:", err);
    alert("Erro: " + err.message);
  }
});




===== ./js/aguardando.js =====
// ============================================================
// ‚è≥ BlinkGames ‚Äî aguardando.js (v2.0 Produ√ß√£o ‚Äî Pagamento Pendente Monitorado)
// ============================================================

import { mountHeader } from "./header.js";
import { getToken } from "./state.js";
import { OrdersAPI } from "./api.js";

document.addEventListener("DOMContentLoaded", async () => {
  mountHeader();

  const msg = document.getElementById("msg");
  if (!msg) return;

  const token = getToken();
  if (!token) {
    msg.innerHTML = `
      <h1>‚ö†Ô∏è Sess√£o expirada</h1>
      <p>Fa√ßa login novamente para acompanhar seu pagamento.</p>
      <a href="conta.html" class="btn">Ir para login</a>
    `;
    return;
  }

  msg.innerHTML = `
    <h1>‚è≥ Pagamento em processamento...</h1>
    <p>O Mercado Pago ainda est√° confirmando o seu pagamento.</p>
    <p>Assim que for aprovado, suas rifas aparecer√£o em <a href="minhas-rifas.html">Minhas Rifas</a>.</p>
    <p style="color:#ffde59;">Atualizando automaticamente...</p>
    <br>
    <a href="rifas.html" class="btn" style="color:#fff;background:#ff00c8;padding:10px 20px;border-radius:8px;text-decoration:none;">Voltar √†s rifas</a>
  `;

  // ============================================================
  // üîÅ Verifica status de pagamento a cada 10s
  // ============================================================
  async function checkPayment() {
    try {
      const orders = await OrdersAPI.getMyOrders(token);
      const hasApproved = orders?.some((o) => o.status === "approved");

      if (hasApproved) {
        msg.innerHTML = `
          <h1 class="blink">‚úÖ Pagamento aprovado!</h1>
          <p>Seus n√∫meros foram registrados com sucesso.</p>
          <p><a href="minhas-rifas.html">Ver Minhas Rifas</a></p>
          <small style="color:#888;">Redirecionando automaticamente...</small>
        `;
        setTimeout(() => {
          window.location.href = "minhas-rifas.html";
        }, 3500);
      }
    } catch (err) {
      console.error("‚ùå Erro ao verificar pagamento:", err);
    }
  }

  // Executa imediatamente e repete a cada 10 segundos
  checkPayment();
  setInterval(checkPayment, 10000);
});




===== ./js/pacman-bg.js =====
// üéÆ Pac-Man Footer Animation (BlinkGames Neon Edition ‚Äî universal)
const canvas = document.getElementById("pacman-footer");
if (!canvas) {
  console.log("üéÆ Pac-Man n√£o encontrado nesta p√°gina (ignorado).");
} else {
  const ctx = canvas.getContext("2d");

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = 90; // altura maior
  }
  resizeCanvas();
  window.addEventListener("resize", resizeCanvas);

  // Pac-Man config
  let pacman = {
    x: -50,
    y: canvas.height / 2,
    size: 24,
    speed: 2.5,
    mouthOpen: true
  };

  // Bolinhas
  let dots = [];
  function createDots() {
    const spacing = 50;
    const count = Math.ceil(canvas.width / spacing);
    dots = [];
    for (let i = 0; i < count; i++) {
      dots.push({ x: i * spacing + 30, y: canvas.height / 2 });
    }
  }
  createDots();

  // Desenha bolinhas
  function drawDots() {
    ctx.fillStyle = "#00e0ff";
    dots.forEach(dot => {
      ctx.beginPath();
      ctx.arc(dot.x, dot.y, 4, 0, Math.PI * 2);
      ctx.fill();
    });
  }

  // Desenha Pac-Man
  function drawPacman() {
    ctx.fillStyle = "#ffde59";
    ctx.beginPath();
    const mouthAngle = pacman.mouthOpen ? 0.3 : 0.1;
    ctx.moveTo(pacman.x, pacman.y);
    ctx.arc(pacman.x, pacman.y, pacman.size, mouthAngle * Math.PI, (2 - mouthAngle) * Math.PI);
    ctx.lineTo(pacman.x, pacman.y);
    ctx.fill();
  }

  // Atualiza posi√ß√£o e anima
  function update() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawDots();
    drawPacman();

    pacman.x += pacman.speed;

    // Come bolinhas pr√≥ximas
    dots = dots.filter(dot => Math.abs(dot.x - pacman.x) > pacman.size * 0.8);

    // Alterna boca
    if (Math.random() < 0.1) pacman.mouthOpen = !pacman.mouthOpen;

    // Quando sai da tela, volta e recria as bolinhas
    if (pacman.x - pacman.size > canvas.width) {
      pacman.x = -50;
      createDots();
    }

    requestAnimationFrame(update);
  }

  update();
}




===== ./js/swiper.js =====
d// swiper.js ‚Äî desativado
// O carrossel foi removido da home.
// Este arquivo √© mantido apenas por compatibilidade futura.
console.log("Swiper desativado ‚Äî carrossel removido da BlinkGames.");




===== ./js/state.js =====
// ============================================================
// üéÆ BlinkGames ‚Äî state.js (v6.2 TOTALMENTE SINCRONIZADO)
// ============================================================

// üí∞ Formata valores em Real
export function BRL(n) {
  return (n || 0).toLocaleString("pt-BR", {
    style: "currency",
    currency: "BRL",
    minimumFractionDigits: 2,
  });
}

// ============================================================
// üõí CARRINHO
// ============================================================
export function getCart() {
  try {
    const data = localStorage.getItem("blink_cart");
    const cart = JSON.parse(data || "[]");
    return Array.isArray(cart) ? cart : [];
  } catch {
    return [];
  }
}

export function saveCart(c) {
  localStorage.setItem("blink_cart", JSON.stringify(c || []));
  updateBadge();
  // üîÑ Dispara evento pra header.js atualizar badge em tempo real
  window.dispatchEvent(new Event("storage"));
}

export function clearCart() {
  localStorage.removeItem("blink_cart");
  updateBadge();
  window.dispatchEvent(new Event("storage"));
}

export function updateBadge() {
  const badge = document.getElementById("cart-badge");
  if (!badge) return;

  const cart = getCart();
  const totalItens = cart.reduce((acc, i) => acc + (i.quantity || 0), 0);

  badge.textContent = totalItens > 0 ? totalItens : "";

  // Atualiza tamb√©m o texto do link ‚ÄúCarrinho‚Äù
  const linkCarrinho = document.querySelector('a[href="carrinho.html"]');
  if (linkCarrinho) {
    linkCarrinho.innerHTML = `
      Carrinho <span id="cart-badge" class="badge">${totalItens > 0 ? totalItens : ""}</span>
    `;
  }
}

// ============================================================
// üë§ AUTENTICA√á√ÉO
// ============================================================
export function getToken() {
  return localStorage.getItem("blink_token") || null;
}

export function setToken(t) {
  localStorage.setItem("blink_token", t || "");
}

export function getUser() {
  try {
    return JSON.parse(localStorage.getItem("blink_user") || "{}");
  } catch {
    return {};
  }
}

export function setUser(u) {
  localStorage.setItem("blink_user", JSON.stringify(u || {}));
}

export function clearAuth() {
  localStorage.removeItem("blink_token");
  localStorage.removeItem("blink_user");
  clearCart();
  updateUserHeader();
}

// ============================================================
// üåê HEADER DIN√ÇMICO
// ============================================================
export function updateUserHeader() {
  const user = getUser();
  const nome = user?.nome || user?.name || "";
  const logado = !!getToken() && !!nome;

  const headerUser = document.getElementById("header-user");
  const headerAuth = document.getElementById("header-auth");

  if (!headerUser || !headerAuth) return;

  if (logado) {
    headerUser.innerHTML = `
      <span>Ol√°, <strong>${nome.split(" ")[0]}</strong></span>
      <button id="logout-btn" class="btn small">Sair</button>
    `;
    headerUser.style.display = "flex";
    headerAuth.style.display = "none";

    document.getElementById("logout-btn")?.addEventListener("click", clearAuth);
  } else {
    headerUser.style.display = "none";
    headerAuth.style.display = "flex";
  }

  updateBadge();
}

// ============================================================
// üöÄ Inicializa√ß√£o global
// ============================================================
document.addEventListener("DOMContentLoaded", () => {
  updateBadge();
  updateUserHeader();
});




===== ./js/rifas.js =====
import { mountHeader } from './header.js'; import { RafflesAPI } from './api.js'; import { BRL } from './state.js'; mountHeader();
const grid=document.getElementById('raffles'); async function load(){try{const list=await RafflesAPI.list(); grid.innerHTML=(list||[]).map(r=>`<article class="card"><img src="${r.imagem||r.image||'img/icons/placeholder.svg'}"><div class="body"><h3>${r.titulo||r.title}</h3><div class="price">R$ ${BRL(r.preco||r.price)}</div><a class="btn btn-primary" href="rifa.html?id=${r._id}">Ver detalhes</a></div></article>`).join('')||'<p>Nenhuma rifa ativa.</p>';}catch(e){grid.innerHTML='<p>Erro ao carregar rifas.</p>';}} load();


===== ./js/api.js =====
// ============================================================
// üåê BlinkGames ‚Äî api.js (v6.0 FINAL ‚Äî Produ√ß√£o Completa)
// ============================================================

const BASE = "https://blinkgames-backend-p4as.onrender.com";

// ============================================================
// üß© Fun√ß√£o gen√©rica de requisi√ß√µes
// ============================================================
export async function request(path, method = "GET", data = null, token = null) {
  const url = `${BASE}${path.startsWith("/") ? "" : "/"}${path}`;
  const headers = { "Content-Type": "application/json" };
  if (token) headers["Authorization"] = `Bearer ${token}`;

  const opts = { method, headers };
  if (data) opts.body = JSON.stringify(data);

  try {
    const res = await fetch(url, opts);
    let json = null;
    try {
      json = await res.json();
    } catch {
      json = null;
    }

    if (!res.ok) {
      const message = json?.error || json?.message || `Erro ${res.status}`;
      throw new Error(message);
    }

    return json;
  } catch (err) {
    console.error("‚ùå Erro de rede na request:", err);
    throw new Error("Falha na comunica√ß√£o com o servidor.");
  }
}

// ============================================================
// üéüÔ∏è Rifas
// ============================================================
export const RafflesAPI = {
  list: () => request("/api/raffles"),
  byId: (id) => request(`/api/raffles/${id}`),

  // Gera n√∫meros quando o usu√°rio n√£o escolhe manualmente
  generate: (id, quantidade = 1, token) =>
    request(`/api/raffles/${id}/generate`, "POST", { quantidade }, token),

  // Reserva n√∫meros (aceita array de n√∫meros ou quantidade)
  reserve: (id, numerosOrQty, token) => {
    const payload = Array.isArray(numerosOrQty)
      ? { numeros: numerosOrQty }
      : { quantidade: Number(numerosOrQty) || 1 };
    return request(`/api/raffles/${id}/reserve`, "POST", payload, token);
  },
};

// ============================================================
// üèÜ Vencedores
// ============================================================
export const WinnersAPI = {
  list: () => request("/api/winners").catch(() => []),
};

// ============================================================
// üë§ Autentica√ß√£o
// ============================================================
export const AuthAPI = {
  login: (email, password) =>
    request("/api/auth/login", "POST", { email, password }),
  register: (payload) => request("/api/auth/register", "POST", payload),
};

// ============================================================
// üí≥ Checkout (Mercado Pago)
// ============================================================
export const CheckoutAPI = {
  create: async (payload, token) => {
    if (!token) throw new Error("Usu√°rio n√£o autenticado.");
    return request("/api/checkout", "POST", payload, token);
  },
};

// ============================================================
// üì¶ Pedidos / Compras do Usu√°rio
// ============================================================
export const OrdersAPI = {
  // Busca pedidos do usu√°rio logado (usado em sucesso.js e aguardando.js)
  getMyOrders: async (token) => {
    if (!token) throw new Error("Usu√°rio n√£o autenticado.");
    return request("/api/orders/my", "GET", null, token);
  },

  // Busca pedido espec√≠fico por ID (para futuros detalhes)
  getById: async (id, token) => {
    if (!token) throw new Error("Usu√°rio n√£o autenticado.");
    return request(`/api/orders/${id}`, "GET", null, token);
  },
};

// ============================================================
// üîö Exporta√ß√£o √∫nica
// ============================================================
export default {
  RafflesAPI,
  WinnersAPI,
  AuthAPI,
  CheckoutAPI,
  OrdersAPI,
};




===== ./js/recuperar.js =====
// ============================================================
// ‚úâÔ∏è BlinkGames ‚Äî recuperar.js (corrigido)
// ============================================================

const form = document.getElementById("recover-form");

form.addEventListener("submit", async (e) => {
  e.preventDefault();

  const email = document.getElementById("recoverEmail").value.trim();

  if (!email) {
    alert("Por favor, informe o e-mail cadastrado!");
    return;
  }

  try {
    const res = await fetch("https://blinkgames-backend-p4as.onrender.com/api/auth/forgot-password", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ email }),
    });

    const data = await res.json();

    if (!res.ok) throw new Error(data.error || "Erro ao enviar e-mail.");

    alert("üì© Link de recupera√ß√£o enviado! Verifique seu e-mail.");
    window.location.href = "conta.html";
  } catch (err) {
    console.error("‚ùå Erro:", err);
    alert("Erro: " + err.message);
  }
});




===== ./js/auth.js =====
// ============================================================
// üë§ BlinkGames ‚Äî auth.js (v5.1 ‚Äî usa BASE do api.js)
// ============================================================

import { mountHeader } from "./header.js";
import { setToken, setUser } from "./state.js";
import { request } from "./api.js"; // üëà usa a mesma BASE do projeto

mountHeader();

// Utilit√°rio
function onlyDigits(s) {
  return (s || "").replace(/\D/g, "");
}

// LOGIN
const login = document.getElementById("login-form");
if (login) {
  login.addEventListener("submit", async (e) => {
    e.preventDefault();
    const email = document.getElementById("email")?.value?.trim() || "";
    const password = document.getElementById("password")?.value?.trim() || "";

    if (!email || !password) return alert("‚ö†Ô∏è Preencha todos os campos.");

    try {
      const data = await request("/api/auth/login", "POST", { email, password });
      if (data?.token) {
        setToken(data.token);
        setUser(data.user || { email });
        const redirect = localStorage.getItem("redirectAfterLogin");
        localStorage.removeItem("redirectAfterLogin");
        window.location.href = redirect || "index.html";
      } else {
        alert("Falha no login. Verifique suas credenciais.");
      }
    } catch (err) {
      console.error("‚ùå Erro ao logar:", err);
      alert(err.message || "Erro ao efetuar login.");
    }
  });
}

// REGISTRO
const register = document.getElementById("register-form");
if (register) {
  register.addEventListener("submit", async (e) => {
    e.preventDefault();

    const nome = document.getElementById("rname")?.value?.trim() || "";
    const email = document.getElementById("remail")?.value?.trim() || "";
    const cpf = onlyDigits(document.getElementById("rcpf")?.value);
    const password = document.getElementById("rpassword")?.value?.trim() || "";
    const confirm  = document.getElementById("rconfirm")?.value?.trim() || "";

    if (!nome || !email || !cpf || !password || !confirm) {
      alert("‚ö†Ô∏è Todos os campos s√£o obrigat√≥rios.");
      return;
    }
    if (password !== confirm) return alert("‚ö†Ô∏è As senhas n√£o conferem!");

    try {
      const data = await request("/api/auth/register", "POST", { nome, email, cpf, password });
      if (data?.token) {
        setToken(data.token);
        setUser(data.user || { nome, email });
      }
      window.location.href = "index.html";
    } catch (err) {
      console.error("‚ùå Erro no registro:", err);
      alert(err.message || "Erro ao criar conta.");
    }
  });
}




===== ./js/rifa.js =====
// ============================================================
// üéÆ BlinkGames ‚Äî rifa.js (v3.0 corrigido)
// ============================================================

import { mountHeader } from './header.js';
import { RafflesAPI } from './api.js';
import { BRL, getCart, saveCart, updateBadge } from './state.js';

// Monta cabe√ßalho
mountHeader();

// Seletores principais
const id = new URLSearchParams(location.search).get('id');
const img = document.getElementById('raffle-img');
const titleEl = document.getElementById('raffle-title');
const descEl = document.getElementById('raffle-desc');
const priceEl = document.getElementById('raffle-price');
const dateEl = document.getElementById('raffle-date');
const qtyInput = document.getElementById('qty');
const addBtn = document.getElementById('add');

let raffle = null;

// ============================================================
// üîÑ Carrega os dados da rifa
// ============================================================
async function load() {
  try {
    raffle = await RafflesAPI.byId(id);

    img.src = raffle.imagem || raffle.image || 'img/icons/placeholder.svg';
    img.alt = raffle.titulo || raffle.title || 'Rifa BlinkGames';

    titleEl.textContent = raffle.titulo || raffle.title;
    descEl.textContent = raffle.descricao || raffle.description || 'Sem descri√ß√£o dispon√≠vel.';
    priceEl.textContent = BRL(raffle.preco || raffle.price);

    // Formata data para padr√£o BR (DD/MM/AAAA)
    const rawDate = raffle.dataSorteio || raffle.drawDate || '2025-12-31T23:59:00.000Z';
    const dataFormatada = new Date(rawDate).toLocaleDateString('pt-BR');
    dateEl.textContent = dataFormatada;
  } catch (e) {
    console.error('Erro ao carregar rifa:', e);
    titleEl.textContent = 'Rifa n√£o encontrada';
  }
}
load();

// ============================================================
// üõí Adicionar ao carrinho com quantidade real
// ============================================================
addBtn?.addEventListener('click', async () => {
  if (!raffle) return alert('Erro: rifa n√£o carregada.');

  const quantidade = Math.max(1, parseInt(qtyInput.value) || 1);

  let numbers = [];
  let reservationId = null;
  let expiresAt = null;

  try {
    // Reserva m√∫ltiplos n√∫meros conforme a quantidade
    const res = await RafflesAPI.reserve(id, quantidade, null);
    numbers = res?.numbers || [];
    reservationId = res?.reservationId || null;
    expiresAt = res?.expiresAt || null;
  } catch {
    // Fallback local se o backend falhar
    numbers = Array.from({ length: quantidade }, () =>
      String(Math.floor(Math.random() * 10000)).padStart(4, '0')
    );
  }

  const cart = getCart();
  const existing = cart.find((i) => i._id === id);

  if (existing) {
    existing.quantity += quantidade;
    existing.numbers.push(...numbers);
  } else {
    cart.push({
      _id: id,
      title: raffle.titulo || raffle.title,
      price: raffle.preco || raffle.price,
      image: raffle.imagem || raffle.image,
      quantity: quantidade,
      numbers,
      reservationId,
      expiresAt,
    });
  }

  saveCart(cart);
  updateBadge();

  alert(`üéüÔ∏è ${quantidade} n√∫mero(s) reservado(s) e adicionado(s) ao carrinho!`);
});




===== ./js/erro.js =====
// ============================================================
// ‚ùå BlinkGames ‚Äî erro.js (v2.0 Produ√ß√£o ‚Äî Pagamento Recusado ou Cancelado)
// ============================================================

import { mountHeader } from "./header.js";
import { clearCart } from "./state.js";

document.addEventListener("DOMContentLoaded", () => {
  mountHeader();

  const msg = document.getElementById("msg");
  if (!msg) return;

  msg.innerHTML = `
    <h1 style="color:#ff4b4b;">‚ùå Pagamento n√£o foi conclu√≠do</h1>
    <p>Ocorreu um problema ao processar seu pagamento.</p>
    <p>Isso pode ter acontecido por saldo insuficiente, cart√£o expirado ou erro de conex√£o.</p>
    <p>Tente novamente ou entre em contato com o suporte BlinkGames.</p>
    <br>
    <a href="rifas.html" class="btn" style="color:#fff;background:#ff00c8;padding:10px 20px;border-radius:8px;text-decoration:none;">Voltar √†s rifas</a>
  `;

  // üßπ Limpa o carrinho e cache local para evitar duplica√ß√µes
  clearCart();
  localStorage.removeItem("checkoutCache");

  // üîÅ Redireciona automaticamente ap√≥s 6 segundos
  setTimeout(() => {
    window.location.href = "rifas.html";
  }, 6000);
});




===== ./js/header.js =====
// ============================================================
// üéÆ BlinkGames ‚Äî header.js (v6.0 SINCRONIZADO + DESIGN LIMPO)
// ============================================================

import { updateBadge, getToken, getUser, clearAuth } from "./state.js";

// ============================================================
// üîó Links fixos do menu
// ============================================================
const LINKS = [
  { href: "index.html", label: "Home" },
  { href: "rifas.html", label: "Rifas" },
  { href: "vencedores.html", label: "Vencedores" },
  { href: "termos.html", label: "Termos" },
  { href: "sobre.html", label: "Sobre" },
];

// ============================================================
// üß± Monta o cabe√ßalho din√¢mico
// ============================================================
export function mountHeader() {
  const header = document.getElementById("header");
  if (!header) return;

  const user = getUser();
  const logged = !!getToken();
  const nome = user?.nome || user?.name || "Blink";

  const linksHTML = LINKS.map(
    (l) =>
      `<a href="${l.href}" class="${
        isActive(l.href) ? "active" : ""
      }">${l.label}</a>`
  ).join("");

  const userSection = logged
    ? `
      <div id="header-user" class="user-area">
        <span>Ol√°, <strong>${nome.split(" ")[0]}</strong>!</span>
        <a href="minhas-rifas.html" class="small">Minhas Rifas</a>
        <a href="carrinho.html" class="small">
          Carrinho <span id="cart-badge" class="badge">0</span>
        </a>
        <button id="logout" class="btn small">Sair</button>
      </div>
    `
    : `
      <div id="header-auth" class="auth-area">
        <a href="conta.html" class="small">Entrar</a>
        <a href="carrinho.html" class="small">
          Carrinho <span id="cart-badge" class="badge">0</span>
        </a>
      </div>
    `;

  header.innerHTML = `
    <header class="site">
      <div class="header-inner">
        <a class="brand" href="index.html">
          Blink<span>Games</span>
        </a>
        <nav class="nav">
          ${linksHTML}
          ${userSection}
        </nav>
      </div>
    </header>
  `;

  // ============================================================
  // üö™ Logout
  // ============================================================
  const logoutBtn = document.getElementById("logout");
  if (logoutBtn) {
    logoutBtn.addEventListener("click", (e) => {
      e.preventDefault();
      clearAuth();
      window.location.href = "index.html";
    });
  }

  // ============================================================
  // üî¢ Atualiza badge inicial
  // ============================================================
  updateBadge();

  // ============================================================
  // üåÄ Mant√©m contador do carrinho atualizado em tempo real
  // ============================================================
  window.addEventListener("storage", (e) => {
    if (e.key === "blink_cart") updateBadge();
  });
}

// ============================================================
// üìç Detecta p√°gina ativa
// ============================================================
function isActive(href) {
  const current = window.location.pathname.split("/").pop() || "index.html";
  return current === href;
}

// ============================================================
// üöÄ Monta automaticamente no load
// ============================================================
if (document.readyState === "loading") {
  document.addEventListener("DOMContentLoaded", mountHeader);
} else {
  mountHeader();
}




===== ./js/home.js =====
// ============================================================
// üéÆ BlinkGames ‚Äî home.js (v5.5 final: PS5 primeiro + adicionar ao carrinho)
// ============================================================

import { mountHeader } from './header.js';
import { RafflesAPI } from './api.js';
import { BRL, getCart, saveCart, updateBadge } from './state.js';

// Monta o cabe√ßalho
mountHeader();

const grid = document.getElementById('featured');
let cache = [];

// ============================================================
// üîÑ Carrega rifas do backend (PS5 primeiro + fallback)
// ============================================================
async function load() {
  try {
    cache = await RafflesAPI.list();
    if (!Array.isArray(cache) || cache.length === 0)
      throw new Error('Sem rifas ativas.');

    // ü•á PS5 primeiro
    const ps5 = cache.filter((r) =>
      (r.titulo || r.title || '').toLowerCase().includes('ps5')
    );
    const others = cache.filter(
      (r) =>
        !(r.titulo || r.title || '').toLowerCase().includes('ps5')
    );
    const ordered = [...ps5, ...others];

    // Monta cards
    grid.innerHTML = ordered
      .slice(0, 6)
      .map(
        (r) => `
        <article class="card">
          <img src="${r.imagem || r.image || 'img/icons/placeholder.svg'}" alt="${r.titulo || r.title}">
          <div class="body">
            <h3>${r.titulo || r.title}</h3>
            <div class="price">R$ ${BRL(r.preco || r.price)}</div>
            <div class="actions">
              <a class="btn" href="rifa.html?id=${r._id}">Ver detalhes</a>
              <button class="btn btn-primary" data-id="${r._id}">
                Adicionar ao carrinho
              </button>
            </div>
          </div>
        </article>
      `
      )
      .join('');
  } catch (e) {
    grid.innerHTML = `<p>‚ö†Ô∏è Erro ao carregar rifas ou nenhuma ativa.</p>`;
    console.error(e);
  }
}

// Carrega rifas
load();

// ============================================================
// üõí Adiciona rifa ao carrinho (acumula quantidades)
// ============================================================
grid?.addEventListener('click', async (e) => {
  const btn = e.target.closest('button[data-id]');
  if (!btn) return;

  const id = btn.dataset.id;
  let numbers = [];
  let reservationId = null;
  let expiresAt = null;

  try {
    // üî¢ Reserva m√∫ltiplos n√∫meros (3 por vez ‚Äî pode mudar)
    const res = await RafflesAPI.reserve(id, 3, null);
    numbers = res?.numbers || [];
    reservationId = res?.reservationId || null;
    expiresAt = res?.expiresAt || null;
  } catch {
    // fallback: 3 n√∫meros aleat√≥rios
    numbers = Array.from({ length: 3 }, () =>
      String(Math.floor(Math.random() * 10000)).padStart(4, '0')
    );
  }

  const r = cache.find((x) => String(x._id) === String(id));
  if (!r) return alert('Erro ao encontrar a rifa.');

  const cart = getCart();
  const existing = cart.find((i) => i._id === id);

  if (existing) {
    existing.quantity += numbers.length;
    existing.numbers.push(...numbers);
  } else {
    cart.push({
      _id: id,
      title: r.titulo || r.title,
      price: r.preco || r.price,
      image: r.imagem || r.image,
      quantity: numbers.length,
      numbers,
      reservationId,
      expiresAt,
    });
  }

  saveCart(cart);
  updateBadge();

  alert(
    `üõí ${numbers.length} n√∫mero(s) adicionado(s) ao carrinho!\nFinalize sua compra antes que expire a reserva.`
  );
});




===== ./js/sucesso.js =====
// ============================================================
// üéâ BlinkGames ‚Äî sucesso.js (v3.5 Est√°vel ‚Äî Valida com backend)
// ============================================================

import { getToken, clearAuth } from "./state.js";
import { AuthAPI } from "./api.js"; // ‚úÖ usa AuthAPI, pois as compras est√£o em /api/auth/me

async function verificarPagamento() {
  const token = getToken();
  if (!token) {
    alert("Sess√£o expirada. Fa√ßa login novamente.");
    clearAuth();
    window.location.href = "conta.html";
    return;
  }

  const msg = document.getElementById("msg");
  msg.innerHTML = `
    <h1 class="loading">‚è≥ Confirmando pagamento...</h1>
    <p>Aguarde enquanto validamos seu status no servidor.</p>
  `;

  try {
    // üîç Busca dados do usu√°rio e suas compras
    const user = await AuthAPI.me(token);
    const purchases = user?.purchases || [];

    const hasPaid = purchases.some((p) => {
      if (Array.isArray(p.items)) {
        return p.items.some((i) => i && i.status === "approved");
      }
      return p.status === "approved";
    });

    if (hasPaid) {
      // ‚úÖ Pagamento confirmado
      localStorage.removeItem("blink_cart");
      localStorage.removeItem("checkoutCache");

      msg.innerHTML = `
        <h1 class="blink">‚úÖ Pagamento aprovado!</h1>
        <p>Seus n√∫meros foram registrados com sucesso.</p>
        <p><a href="minhas-rifas.html">Ir para Minhas Rifas</a></p>
        <small style="color:#888;">Voc√™ ser√° redirecionado automaticamente...</small>
      `;

      setTimeout(() => {
        window.location.href = "minhas-rifas.html";
      }, 3500);
    } else {
      // üïì Pagamento ainda pendente
      msg.innerHTML = `
        <h1>‚è≥ Pagamento pendente</h1>
        <p>Estamos aguardando a confirma√ß√£o do Mercado Pago...</p>
        <p><a href="minhas-rifas.html">Ver Minhas Rifas</a></p>
      `;

      // üîÅ tenta novamente em 5s
      setTimeout(verificarPagamento, 5000);
    }
  } catch (err) {
    console.error("‚ùå Erro ao confirmar pagamento:", err);
    msg.innerHTML = `
      <h1>‚ö†Ô∏è Erro</h1>
      <p>N√£o foi poss√≠vel verificar o status do pagamento.</p>
      <p><a href="minhas-rifas.html">Minhas Rifas</a></p>
    `;
  }
}

document.addEventListener("DOMContentLoaded", verificarPagamento);




===== ./js/minhas-rifas.js =====
// ============================================================
// üéüÔ∏è BlinkGames ‚Äî minhas-rifas.js (v3.0 FINAL Produ√ß√£o)
// ============================================================

import { getToken, BRL } from "./state.js";
import { mountHeader } from "./header.js";
import { OrdersAPI } from "./api.js";

document.addEventListener("DOMContentLoaded", async () => {
  mountHeader();
  const rifaList = document.getElementById("rifaList");
  const token = getToken();

  if (!token) {
    rifaList.innerHTML = `
      <div class="panel" style="text-align:center; opacity:.85;">
        <p>‚ö†Ô∏è Voc√™ precisa estar logado para visualizar suas rifas.</p>
        <a href="conta.html" class="btn" style="margin-top:10px;">Fazer login</a>
      </div>
    `;
    return;
  }

  try {
    const orders = await OrdersAPI.getMyOrders(token);
    console.log("üì¶ Compras recebidas:", orders);

    if (!orders || !orders.length) {
      rifaList.innerHTML = `<p style="opacity:.8;">Voc√™ ainda n√£o possui rifas compradas.</p>`;
      return;
    }

    // Renderiza cada compra com seus n√∫meros e dados
    rifaList.innerHTML = orders
      .map(
        (order) => `
        <li class="panel" style="margin-bottom: 14px;">
          <strong>üéÆ ${order.items?.[0]?.title || "Rifa BlinkGames"}</strong><br>
          <small>Status: <strong style="color:${
            order.status === "approved" ? "#0f0" : "#ffde59"
          };">${order.status}</strong></small><br>
          <small>Pagamento: <span style="color:var(--accent-2);">${
            order.paymentId || "‚Äî"
          }</span></small><br>
          <small>Valor: <strong>${BRL(order.total || 0)}</strong></small><br>
          <small>Data: ${new Date(order.createdAt).toLocaleDateString("pt-BR")}</small>

          <p style="margin-top:8px;">
            <strong>N√∫meros:</strong><br>
            ${
              order.items?.flatMap((i) => i.numeros || []).join(", ") ||
              "Nenhum n√∫mero registrado."
            }
          </p>
        </li>
      `
      )
      .join("");
  } catch (err) {
    console.error("‚ùå Erro ao carregar rifas:", err);
    rifaList.innerHTML = `
      <div class="panel" style="text-align:center;opacity:.8;">
        <p>‚ùå Erro ao carregar suas rifas. Tente novamente mais tarde.</p>
      </div>
    `;
  }
});




===== ./js/cart.js =====
// ============================================================
// üõí BlinkGames ‚Äî cart.js (v10.2 FINAL ‚Äî Checkout Fix Definitivo)
// ============================================================

import { mountHeader } from "./header.js";
import { BRL, getCart, saveCart, updateBadge, getToken } from "./state.js";
import { RafflesAPI, CheckoutAPI } from "./api.js";

// ============================================================
// üöÄ Monta header e garante badge vis√≠vel
// ============================================================
mountHeader();
updateBadge();

// ============================================================
// üé® Estilo inline ‚Äî bot√µes estilizados neon
// ============================================================
(function injectCartStyles() {
  if (document.getElementById("cart-inline-styles")) return;
  const css = `
    .qty-wrap{display:flex;align-items:center;gap:8px;margin-top:6px}
    .qty-btn{
      border:0; outline:0; cursor:pointer; width:34px; height:34px;
      border-radius:10px; background:linear-gradient(135deg,#ff00c8,#00e0ff);
      color:#fff; font-size:18px; font-weight:bold;
      box-shadow:0 0 10px rgba(255,0,200,.3);
      transition:transform .08s ease, box-shadow .15s ease;
    }
    .qty-btn:hover{ transform:scale(1.05); box-shadow:0 0 18px rgba(0,224,255,.4) }
    .remove-btn{
      border:0; outline:0; cursor:pointer; padding:7px 12px;
      border-radius:8px; background:#320015; color:#fff; font-size:14px;
      margin-left:6px; transition:0.2s; box-shadow:0 0 10px rgba(255,0,0,.25);
    }
    .remove-btn:hover{ background:#ff0033; box-shadow:0 0 16px rgba(255,0,0,.5) }
  `;
  const style = document.createElement("style");
  style.id = "cart-inline-styles";
  style.textContent = css;
  document.head.appendChild(style);
})();

// ============================================================
// üîê Reserva din√¢mica de n√∫meros
// ============================================================
async function ensureReservation(item, token) {
  const raffleId = item._id || item.raffleId || item.id;
  if (!raffleId) throw new Error("Item sem raffleId v√°lido");

  let numerosAtuais = Array.isArray(item.numbers) ? item.numbers : [];
  const qtdDesejada = item.quantity || 1;

  console.log(
    `üé≤ Atualizando reserva da rifa ${raffleId}: ${numerosAtuais.length} ‚Üí ${qtdDesejada}`
  );

  if (numerosAtuais.length < qtdDesejada) {
    const faltando = qtdDesejada - numerosAtuais.length;
    const gen = await RafflesAPI.generate(raffleId, faltando, token);
    const novos = gen?.numeros || gen?.numbers || [];
    numerosAtuais.push(...novos);
  }

  if (numerosAtuais.length > qtdDesejada) {
    numerosAtuais = numerosAtuais.slice(0, qtdDesejada);
  }

  const res = await RafflesAPI.reserve(raffleId, numerosAtuais, token);
  const reserved = res?.numeros || res?.numbers || numerosAtuais;

  item.numbers = reserved;
  return reserved;
}

// ============================================================
// üßæ Renderiza o carrinho
// ============================================================
function renderCart() {
  const list = document.getElementById("list");
  const empty = document.getElementById("empty");
  const totalEl = document.getElementById("total");
  const cart = getCart();

  if (!cart || cart.length === 0) {
    if (list) list.innerHTML = "";
    if (empty) empty.style.display = "block";
    if (totalEl) totalEl.textContent = "R$ 0,00";
    updateBadge();
    return;
  }

  if (empty) empty.style.display = "none";

  if (list) {
    list.innerHTML = cart
      .map(
        (item, i) => `
      <li class="panel" style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;">
        <div>
          <strong>${item.title}</strong><br>
          <small style="color:#aaa;">
            ${item.numbers?.length ? item.numbers.join(", ") : "N√∫meros reservados ser√£o gerados"}
          </small>
          <div class="qty-wrap">
            <button class="qty-btn" data-action="dec" data-index="${i}">‚àí</button>
            <span id="qty-${i}" style="min-width:28px;text-align:center">${item.quantity}</span>
            <button class="qty-btn" data-action="inc" data-index="${i}">+</button>
            <button class="remove-btn" data-index="${i}">üóëÔ∏è</button>
          </div>
        </div>
        <strong>${BRL(
          (Number(item.price) || 1) * (Number(item.quantity) || 1)
        )}</strong>
      </li>`
      )
      .join("");
  }

  const total = cart.reduce(
    (sum, it) =>
      sum + (Number(it.price) || 1) * (Number(it.quantity) || 1),
    0
  );
  if (totalEl) totalEl.textContent = BRL(total);

  document.querySelectorAll(".qty-btn").forEach((btn) => {
    btn.addEventListener("click", async (e) => {
      const idx = Number(e.currentTarget.dataset.index);
      const action = e.currentTarget.dataset.action;

      const items = getCart();
      if (!items[idx]) return;

      const current = Number(items[idx].quantity) || 1;
      const newQty =
        action === "inc" ? current + 1 : Math.max(1, current - 1);

      items[idx].quantity = newQty;

      const token = getToken();
      if (token) await ensureReservation(items[idx], token);

      saveCart(items);
      updateBadge();
      renderCart();
    });
  });

  document.querySelectorAll(".remove-btn").forEach((btn) => {
    btn.addEventListener("click", (e) => {
      const idx = Number(e.currentTarget.dataset.index);
      const items = getCart();
      if (!items[idx]) return;

      items.splice(idx, 1);
      saveCart(items);
      updateBadge();
      renderCart();
    });
  });

  updateBadge();
}

document.addEventListener("DOMContentLoaded", renderCart);

// ============================================================
// üí≥ FINALIZAR COMPRA ‚Äî 100% alinhado com o BACKEND FIXADO
// ============================================================
document.getElementById("checkout")?.addEventListener("click", async () => {
  const token = getToken();
  const cart = getCart();

  if (!token) {
    alert("‚ö†Ô∏è Voc√™ precisa estar logado para finalizar a compra!");
    localStorage.setItem("redirectAfterLogin", "carrinho.html");
    window.location.href = "conta.html";
    return;
  }

  if (!cart.length) {
    alert("Seu carrinho est√° vazio!");
    return;
  }

  try {
    // Atualiza/gera reservas antes do checkout
    for (const item of cart) await ensureReservation(item, token);

    saveCart(cart);
    updateBadge();

    // Normaliza carrinho
    const normalizedCart = cart.map((item) => ({
      raffleId: item._id || item.raffleId || item.id,
      title: item.title || "Rifa BlinkGames",
      price: Number(item.price) || 1,
      quantity: Math.max(1, Number(item.quantity) || 1),
      numeros: Array.isArray(item.numbers) ? item.numbers : [],
    }));

    const result = await CheckoutAPI.create(
      { cart: normalizedCart },
      token
    );

    console.log("üßæ Retorno do backend:", result);

    // ============================================================
    // üîç Compatibilidade universal ‚Äî pega TODOS os formatos poss√≠veis
    // ============================================================
    const initPoint =
      result?.init_point ||
      result?.checkoutUrl ||
      result?.response?.init_point ||
      result?.data?.init_point ||
      result?.sandbox_init_point ||
      null;

    const prefId =
      result?.preference_id ||
      result?.preferenceId ||
      result?.response?.preference_id ||
      result?.id ||
      null;

    console.log("üß© initPoint detectado:", initPoint);
    console.log("üì¶ preference_id:", prefId);

    // ============================================================
    // üöÄ Redireciona para pagamento
    // ============================================================
    if (initPoint) {
      localStorage.setItem("checkoutCache", JSON.stringify(cart));
      window.location.href = initPoint;
      return;
    }

    // ============================================================
    // ‚ùå Falha ‚Äî backend n√£o respondeu com link v√°lido
    // ============================================================
    console.error("‚ùå Checkout inv√°lido:", result);
    alert(
      "Erro ao criar checkout. O servidor n√£o retornou o link de pagamento."
    );
  } catch (err) {
    console.error("‚ùå Erro no checkout/reserva:", err);
    const msg = String(err?.message || "").toLowerCase();

    if (msg.includes("unauthorized") || msg.includes("token")) {
      alert("Sess√£o expirada. Fa√ßa login novamente.");
      localStorage.clear();
      window.location.href = "conta.html";
      return;
    }

    alert(err.message || "Erro ao reservar/criar checkout.");
  }
});




===== ./minhas-rifas.html =====
<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Minhas Rifas ‚Äî BlinkGames</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body>
    <div id="header"></div>

    <main class="container" style="margin-top: 60px;">
      <section class="panel">
        <h1>üéüÔ∏è Minhas Rifas</h1>
        <p style="opacity: 0.8; margin-bottom: 18px;">
          Aqui est√£o todas as rifas que voc√™ <strong>comprou</strong> na BlinkGames.
        </p>
        <ul id="rifaList" style="margin-top: 20px; list-style: none; padding: 0;"></ul>
      </section>
    </main>

    <footer class="footer">
      <div class="container">
        <p>¬© 2025 BlinkGames ‚Äî Todos os direitos reservados.</p>
      </div>
    </footer>

    <!-- Scripts principais -->
    <script type="module" src="js/state.js"></script>
    <script type="module" src="js/header.js"></script>
    <script type="module" src="js/api.js"></script>
    <script type="module" src="js/minhas-rifas.js"></script>
  </body>
</html>




===== ./vencedores.html =====
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üèÜ Vencedores ‚Äî BlinkGames</title>

  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <link rel="manifest" href="site.webmanifest" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

  <style>
    main {
      margin-top: 60px;
    }

    h1 {
      text-align: center;
      color: var(--accent-2);
      margin-bottom: 25px;
      font-size: 1.8rem;
    }

    .winner-card {
      background: var(--panel);
      border-radius: 18px;
      padding: 20px;
      box-shadow: 0 0 20px rgba(255, 0, 200, 0.12);
      text-align: center;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .winner-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 0 30px rgba(0, 224, 255, 0.18);
    }

    .winner-name {
      font-weight: bold;
      color: #fff;
      font-size: 1.1rem;
      margin-bottom: 6px;
    }

    .winner-prize {
      color: var(--accent-3);
      font-weight: bold;
      margin: 4px 0;
    }

    .winner-date {
      color: #bbb;
      font-size: 0.9rem;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }
  </style>
</head>

<body>
  <div id="header"></div>

  <main class="container">
    <h1>üèÜ Hall da Fama BlinkGames</h1>
    <p style="text-align:center;opacity:.8;">Os sortudos que levaram os melhores pr√™mios pra casa üéÆ‚ú®</p>

    <div id="winners" class="grid">
      <div class="winner-card">
        <div class="winner-name">Lucas Andrade</div>
        <div class="winner-prize">üéÅ PlayStation 5 ‚Äî Edi√ß√£o F√≠sica</div>
        <div class="winner-date">üèÖ Sorteio: 28/10/2025</div>
      </div>

      <div class="winner-card">
        <div class="winner-name">Ana Souza</div>
        <div class="winner-prize">‚å®Ô∏è Combo Gamer RGB (Teclado + Mouse)</div>
        <div class="winner-date">üèÖ Sorteio: 12/09/2025</div>
      </div>

      <div class="winner-card">
        <div class="winner-name">Rafael Lima</div>
        <div class="winner-prize">üéß Headset HyperX Cloud II</div>
        <div class="winner-date">üèÖ Sorteio: 22/08/2025</div>
      </div>

      <div class="winner-card">
        <div class="winner-name">Beatriz Santos</div>
        <div class="winner-prize">üïπÔ∏è Controle DualSense ‚Äî Edi√ß√£o Galactic Purple</div>
        <div class="winner-date">üèÖ Sorteio: 30/07/2025</div>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="container">
      <p>¬© 2025 BlinkGames ‚Äî Todos os direitos reservados.</p>
    </div>
  </footer>

  <div id="pacman-wrap">
    <canvas id="pacman-footer"></canvas>
  </div>

  <script type="module" src="js/state.js"></script>
  <script type="module" src="js/header.js"></script>
  <script type="module" src="js/api.js"></script>
  <script type="module" src="js/pacman-bg.js"></script>
</body>
</html>




===== ./sucesso.html =====
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Pagamento Aprovado ‚Äî BlinkGames</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#0a0015">
  <link rel="icon" href="favicon.ico" type="image/x-icon">

  <style>
    body {
      background: #0a0015;
      color: white;
      font-family: Inter, sans-serif;
      text-align: center;
      padding-top: 80px;
    }
    h1 {
      color: #00e0ff;
      font-size: 2rem;
      margin-bottom: 10px;
    }
    p {
      color: #ccc;
      font-size: 1.1rem;
      margin-bottom: 30px;
    }
    a {
      color: #ff00c8;
      text-decoration: none;
      font-weight: bold;
      font-size: 1rem;
    }
    a:hover {
      text-decoration: underline;
    }
    .blink {
      animation: pulse 1.2s infinite alternate;
    }
    @keyframes pulse {
      from { opacity: 0.6; }
      to { opacity: 1; }
    }
    .loading {
      color: #ffde59;
      font-size: 1.2rem;
      opacity: 0.8;
    }
  </style>
</head>

<body>
  <div id="msg">
    <h1 class="loading">‚è≥ Confirmando pagamento...</h1>
    <p>Aguarde enquanto validamos seu status no servidor.</p>
  </div>

  <!-- üîπ Novo script modular -->
  <script type="module" src="js/sucesso.js"></script>
</body>
</html>




===== ./erro.html =====
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Erro no Pagamento ‚Äî BlinkGames</title>
  <style>
    body { background:#0a0015; color:white; font-family:Inter,sans-serif; text-align:center; padding-top:80px; }
    h1 { color:#ff00c8; }
  </style>
</head>
<body>
  <h1>‚ùå Falha no pagamento</h1>
  <p>Ocorreu um erro durante o processo. Tente novamente.</p>
  <a href="carrinho.html">Voltar ao carrinho</a>
</body>
</html>




===== ./aguardando.html =====
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Pagamento Pendente ‚Äî BlinkGames</title>
  <style>
    body { background:#0a0015; color:white; font-family:Inter,sans-serif; text-align:center; padding-top:80px; }
    h1 { color:#ffde59; }
  </style>
</head>
<body>
  <h1>‚è≥ Pagamento pendente</h1>
  <p>Assim que for confirmado, sua rifa ser√° liberada.</p>
  <a href="index.html">Voltar √† loja</a>
</body>
</html>




===== ./index.html =====
<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="BlinkGames ‚Äî Rifas de games, consoles e perif√©ricos com visual neon estilo GTA."
    />
    <meta name="theme-color" content="#0a0015" />
    <title>BlinkGames ‚Äî Rifas de Games e Consoles</title>

    <!-- √çcones e manifest -->
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="img/icons/icon-192.png" />
    <link rel="manifest" href="site.webmanifest" />

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body>
    <!-- Cabe√ßalho din√¢mico -->
    <div id="header"></div>

    <!-- ============================================================ -->
    <!-- üéÆ CONTE√öDO PRINCIPAL -->
    <!-- ============================================================ -->
    <main class="container">
      <!-- HERO -->
      <section class="panel" style="text-align: center;">
        <h1>üöÄ BlinkGames te leva para a pr√≥xima fase!</h1>
        <p style="opacity: 0.9; margin-top: 6px;">
          Rifas oficiais de <strong>games, consoles e perif√©ricos</strong> com transpar√™ncia e visual gamer neon.
        </p>
        <a href="rifas.html" class="btn btn-primary" style="margin-top: 16px;">
          üéüÔ∏è Ver rifas ativas
        </a>
      </section>

      <!-- üïπÔ∏è RIFAS EM DESTAQUE -->
      <section class="panel">
        <h2>üî• Rifas em destaque</h2>
        <div id="featured" class="grid"></div>
      </section>
    </main>

    <!-- ‚ö° Rodap√© -->
    <footer class="footer">
      <div class="container">
        <p>¬© 2025 BlinkGames ‚Äî Todos os direitos reservados.</p>
      </div>
    </footer>

    <!-- üëæ Pac-Man animado (rodap√©) -->
    <div id="pacman-wrap">
      <canvas id="pacman-bg" height="58"></canvas>
    </div>

    <!-- ============================================================ -->
    <!-- üöÄ SCRIPTS -->
    <!-- ============================================================ -->
    <script type="module" src="js/state.js"></script>
    <script type="module" src="js/header.js"></script>
    <script type="module" src="js/api.js"></script>
    <script type="module" src="js/home.js"></script>
    <script type="module" src="js/pacman-bg.js"></script>
  </body>
</html>




===== ./sobre.html =====
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üöÄ Sobre ‚Äî BlinkGames</title>

  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <link rel="manifest" href="site.webmanifest" />
  <link rel="stylesheet" href="css/style.css" />

  <style>
    main {
      margin-top: 60px;
      line-height: 1.8;
      text-align: center;
    }

    h1 {
      color: var(--accent-2);
      margin-bottom: 20px;
    }

    .panel {
      background: var(--panel);
      padding: 32px;
      border-radius: 16px;
      box-shadow: 0 0 25px rgba(255, 0, 200, 0.1), 0 0 50px rgba(0, 224, 255, 0.08);
    }

    strong {
      color: var(--accent);
    }

    a {
      color: var(--accent-2);
      text-decoration: none;
    }

    a:hover {
      color: var(--accent);
    }

    em {
      color: var(--accent-3);
    }
  </style>
</head>

<body>
  <div id="header"></div>

  <main class="container">
    <section class="panel">
      <h1>üöÄ Sobre a BlinkGames</h1>

      <p>
        A <strong>BlinkGames</strong> nasceu da paix√£o por <strong>tecnologia, inova√ß√£o e cultura gamer</strong>.  
        Somos uma startup brasileira dedicada a oferecer uma experi√™ncia de rifas <strong>100% digital, segura e justa</strong>,  
        com visual <strong>neon retr√¥</strong> inspirado nos cl√°ssicos dos videogames ‚Äî mas com alma moderna e tecnologia de ponta.
      </p>

      <p style="margin-top: 14px;">
        Nosso prop√≥sito √© <strong>transformar rifas em experi√™ncias</strong>.  
        Cada n√∫mero comprado √© mais do que uma aposta ‚Äî √© um momento de emo√ß√£o real, transparente e cheia de energia gamer.  
        Aqui, o sorteio √© o ‚Äúgame‚Äù e voc√™ √© o protagonista.
      </p>

      <p style="margin-top: 14px;">
        A plataforma √© hospedada em <strong>infraestrutura cloud de alta performance</strong>,  
        com <strong>pagamentos oficiais via Mercado Pago</strong> e <strong>seguran√ßa de dados criptografada</strong>.  
        Tudo isso pra garantir uma jornada leve, confi√°vel e cheia de estilo.
      </p>

      <div style="margin-top: 24px;">
        <p>üåê <strong>Plataforma:</strong> <a href="https://blinkgamesrifa.vercel.app" target="_blank">blinkgamesrifa.vercel.app</a></p>
        <p>üìß <strong>Contato:</strong> blinkgamesoficial@hotmail.com</p>
        <p>üéÆ <strong>Fundadora:</strong> <span style="color: var(--accent-2);">Mel</span></p>
      </div>

      <div style="margin-top: 32px;">
        <p style="font-size: 0.95rem; opacity: 0.9;">
          üí° <em>"Blink" representa o instante em que o improv√°vel acontece.  
          Um piscar de olhos pode mudar o jogo ‚Äî e √© isso que nos move.</em>
        </p>
      </div>

      <div style="margin-top: 28px;">
        <p style="font-size: 0.9rem; opacity: 0.85;">Transpar√™ncia, tecnologia e divers√£o ‚Äî esse √© o nosso jogo. üíú</p>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <p>¬© 2025 BlinkGames ‚Äî Todos os direitos reservados.</p>
    </div>
  </footer>

  <div id="pacman-wrap">
    <canvas id="pacman-footer"></canvas>
  </div>

  <script type="module" src="js/state.js"></script>
  <script type="module" src="js/header.js"></script>
  <script type="module" src="js/api.js"></script>
  <script type="module" src="js/pacman-bg.js"></script>
</body>
</html>




===== ./nova-senha.html =====
<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üîê Redefinir Senha ‚Äî BlinkGames</title>

    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="stylesheet" href="css/style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />

    <style>
      main {
        max-width: 420px;
        margin: 80px auto;
        text-align: center;
      }

      .panel {
        background: var(--panel);
        padding: 32px;
        border-radius: 16px;
        box-shadow: 0 0 25px rgba(255, 0, 200, 0.15),
          0 0 50px rgba(0, 224, 255, 0.1);
      }

      h1 {
        color: var(--accent-2);
        margin-bottom: 24px;
        font-size: 1.6rem;
      }

      label {
        display: block;
        text-align: left;
        margin-bottom: 6px;
        color: #ccc;
        font-size: 0.9rem;
      }

      input {
        width: 100%;
        padding: 10px 12px;
        border-radius: 8px;
        border: none;
        background: #1c0135;
        color: #fff;
        font-size: 0.95rem;
        outline: none;
        margin-bottom: 12px;
      }

      input:focus {
        box-shadow: 0 0 0 2px var(--accent);
      }

      .btn {
        margin-top: 12px;
        width: 100%;
        padding: 10px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        background: linear-gradient(90deg, var(--accent), var(--accent-2));
        color: #fff;
        font-weight: bold;
        transition: opacity 0.2s ease, transform 0.2s ease;
      }

      .btn:hover {
        opacity: 0.9;
        transform: scale(1.02);
      }

      p {
        color: #aaa;
        font-size: 0.9rem;
        margin-top: 18px;
      }

      a {
        color: var(--accent-2);
        text-decoration: none;
      }

      a:hover {
        color: var(--accent);
      }
    </style>
  </head>

  <body>
    <!-- Cabe√ßalho -->
    <div id="header"></div>

    <!-- ============================================================ -->
    <!-- üß© REDEFINI√á√ÉO DE SENHA -->
    <!-- ============================================================ -->
    <main>
      <h1>üîê Redefinir Senha</h1>

      <section class="panel">
        <form id="resetForm">
          <label for="newPassword">Nova senha</label>
          <input
            type="password"
            id="newPassword"
            placeholder="Digite a nova senha"
            required
          />

          <label for="confirmPassword">Confirmar nova senha</label>
          <input
            type="password"
            id="confirmPassword"
            placeholder="Confirme a nova senha"
            required
          />

          <button class="btn btn-primary" type="submit">
            Redefinir senha
          </button>

          <p>
            üîô Lembrou sua senha?
            <a href="conta.html">Voltar para o login</a>
          </p>
        </form>
      </section>
    </main>

    <!-- Rodap√© -->
    <footer class="footer">
      <div class="container">
        <p>¬© 2025 BlinkGames ‚Äî Todos os direitos reservados.</p>
      </div>
    </footer>

    <!-- Pac-Man -->
    <div id="pacman-wrap"><canvas id="pacman-bg" height="58"></canvas></div>

    <!-- Scripts -->
    <script type="module" src="js/state.js"></script>
    <script type="module" src="js/header.js"></script>
    <script type="module" src="js/api.js"></script>
    <script type="module" src="js/pacman-bg.js"></script>
    <script type="module" src="js/nova-senha.js"></script>
  </body>
</html>




===== ./css/style.css =====
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Press+Start+2P&display=swap');

:root {
  --bg: #0a0d12;
  --panel: #12002a;
  --accent: #ff00c8;
  --accent-2: #00e0ff;
  --accent-3: #ffde59;
  --text: #fff;
  --muted: #cbd5e1;
  --radius: 14px;
}

/* RESET */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html, body {
  height: 100%;
}

body {
  background: var(--bg);
  color: var(--text);
  font-family: Inter, system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  overflow-x: hidden;
}

/* ================= HEADER ================= */
header.site {
  position: sticky;
  top: 0;
  background: rgba(10, 0, 18, 0.85);
  border-bottom: 1px solid rgba(255, 0, 200, 0.25);
  backdrop-filter: blur(8px);
  z-index: 50;
}

.header-inner {
  max-width: 1100px;
  margin: 0 auto;
  padding: 14px 18px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.brand {
  font-family: 'Press Start 2P', cursive;
  color: var(--accent-2);
  text-decoration: none;
}

.brand span {
  color: var(--accent);
}

.nav a {
  color: var(--text);
  text-decoration: none;
  margin: 0 10px;
  padding: 8px 10px;
  border-radius: 10px;
}

.nav a.active,
.nav a:hover {
  background: rgba(0, 224, 255, 0.15);
}

/* ================= CONTE√öDO ================= */
.container {
  max-width: 1100px;
  margin: 22px auto 100px;
  padding: 0 18px;
  position: relative;
  z-index: 2;
}

.panel {
  background: linear-gradient(180deg, rgba(18, 0, 42, 0.85), rgba(18, 0, 42, 0.65));
  border: 1px solid rgba(0, 224, 255, 0.18);
  border-radius: var(--radius);
  padding: 24px;
  margin-bottom: 22px;
  text-align: center;
}

h1, h2, h3 {
  font-family: 'Press Start 2P', cursive;
  font-weight: 400;
}

h1 {
  font-size: 1.3rem;
  margin-bottom: 14px;
}

h2 {
  font-size: 1rem;
  margin: 18px 0 12px;
}

p {
  color: var(--muted);
}

.btn {
  display: inline-block;
  text-decoration: none;
  padding: 10px 16px;
  border-radius: 12px;
  border: 1px solid rgba(0, 224, 255, 0.35);
  color: var(--text);
  background: transparent;
  cursor: pointer;
}

.btn:hover {
  background: rgba(0, 224, 255, 0.12);
}

.btn-primary {
  background: var(--accent);
  color: #000;
  border: none;
  box-shadow: 0 0 18px rgba(255, 0, 200, 0.35);
}

.btn-primary:hover {
  filter: brightness(1.06);
}

/* ================= DESTAQUES ================= */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 18px;
}

.card {
  background: var(--panel);
  border: 1px solid rgba(255, 0, 200, 0.22);
  border-radius: 16px;
  overflow: hidden;
  transition: transform 0.2s ease;
}

.card:hover {
  transform: translateY(-4px);
}

.card img {
  width: 100%;
  height: 170px;
  object-fit: cover;
  display: block;
}

.card .body {
  padding: 14px;
}

.card h3 {
  font-size: 0.95rem;
  margin: 6px 0 8px;
}

.price {
  color: var(--accent-2);
  font-weight: 600;
}

/* ================= PAC-MAN ================= */
#pacman-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100vw;
  height: 90px;
  display: block;
  z-index: 1;
  pointer-events: none;
}

/* ================= FOOTER ================= */
.footer {
  position: relative;
  z-index: 2;
  background: rgba(10, 0, 18, 0.9);
  border-top: 1px solid rgba(255, 0, 200, 0.25);
  padding: 18px 0;
  text-align: center;
}

.footer a {
  color: var(--accent-2);
}

/* ================= RESPONSIVO ================= */
@media (max-width: 820px) {
  .container {
    padding: 0 12px;
  }
}
.container-auth {
  max-width: 380px;
  margin: 100px auto;
  background: var(--panel);
  padding: 2rem;
  border-radius: 20px;
  text-align: center;
  box-shadow: 0 0 20px var(--accent);
}

.container-auth input {
  width: 100%;
  margin: 10px 0;
  padding: 12px;
  border-radius: 10px;
  border: none;
  outline: none;
  background: #1a1a2e;
  color: white;
  font-size: 1rem;
}

.container-auth button {
  width: 100%;
  padding: 12px;
  margin-top: 15px;
  background: var(--accent);
  border: none;
  border-radius: 10px;
  cursor: pointer;
  color: #fff;
  font-weight: bold;
  font-size: 1.1rem;
  transition: 0.3s;
}

.container-auth button:hover {
  background: var(--accent-2);
}

.links-auth {
  margin-top: 15px;
}

.links-auth a {
  color: var(--accent-3);
  margin: 0 10px;
  font-size: 0.9rem;
}




===== ./rifas.html =====
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üéÆ Rifas ‚Äî BlinkGames</title>

  <link rel="manifest" href="site.webmanifest" />
  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

  <style>
    main {
      margin-top: 60px;
    }

    h1 {
      text-align: center;
      color: var(--accent-2);
      margin-bottom: 24px;
    }

    #raffles {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
    }

    .raffle-card {
      background: var(--panel);
      border-radius: 14px;
      box-shadow: 0 0 25px rgba(255, 0, 200, 0.12), 0 0 45px rgba(0, 224, 255, 0.08);
      overflow: hidden;
      transition: transform 0.2s ease, box-shadow 0.3s ease;
    }

    .raffle-card:hover {
      transform: scale(1.03);
      box-shadow: 0 0 30px rgba(255, 0, 200, 0.2), 0 0 60px rgba(0, 224, 255, 0.15);
    }

    .raffle-card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }

    .raffle-card .info {
      padding: 16px;
      text-align: center;
    }

    .raffle-card h3 {
      color: var(--accent);
      margin-bottom: 10px;
    }

    .raffle-card p {
      font-size: 0.95rem;
      color: #ccc;
      margin-bottom: 8px;
    }

    .raffle-card button {
      margin-top: 8px;
      padding: 10px 16px;
      border: none;
      border-radius: 10px;
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      color: #fff;
      font-weight: bold;
      cursor: pointer;
      transition: opacity 0.2s ease, transform 0.2s ease;
    }

    .raffle-card button:hover {
      opacity: 0.9;
      transform: scale(1.05);
    }
  </style>
</head>

<body>
  <div id="header"></div>

  <main class="container">
    <h1>üéÆ Rifas Ativas</h1>
    <p style="text-align:center; opacity:0.8; margin-bottom:18px;">
      Escolha sua rifa e participe! Quanto mais n√∫meros, maiores as chances de vencer. üí•
    </p>
    <div id="raffles" class="grid"></div>
  </main>

  <footer class="footer">
    <div class="container">
      <p>¬© 2025 BlinkGames ‚Äî Todos os direitos reservados.</p>
    </div>
  </footer>

  <div id="pacman-wrap">
    <canvas id="pacman-footer"></canvas>
  </div>

  <script type="module" src="js/state.js"></script>
  <script type="module" src="js/header.js"></script>
  <script type="module" src="js/api.js"></script>
  <script type="module" src="js/rifas.js"></script>
  <script type="module" src="js/pacman-bg.js"></script>
</body>
</html>




===== ./rifa.html =====
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üéüÔ∏è Rifa ‚Äî BlinkGames</title>

  <link rel="manifest" href="site.webmanifest" />
  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <link rel="stylesheet" href="css/style.css" />

  <style>
    main {
      margin-top: 60px;
    }

    .raffle-detail {
      background: var(--panel);
      border-radius: 16px;
      padding: 28px;
      box-shadow: 0 0 25px rgba(255, 0, 200, 0.1), 0 0 50px rgba(0, 224, 255, 0.08);
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .raffle-detail img.cover {
      width: 100%;
      max-width: 550px;
      height: auto;
      border-radius: 16px;
      border: 1px solid rgba(255, 0, 200, 0.15);
      box-shadow: 0 0 30px rgba(255, 0, 200, 0.12);
      margin-bottom: 20px;
    }

    h1 {
      color: var(--accent-2);
      font-size: 1.8rem;
      margin-bottom: 10px;
    }

    p {
      color: #ccc;
      line-height: 1.6;
      margin: 6px 0;
    }

    .qty {
      margin: 18px 0;
      display: flex;
      gap: 10px;
      align-items: center;
      justify-content: center;
    }

    .qty input {
      width: 80px;
      text-align: center;
      background: #1c0135;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      color: #fff;
      padding: 8px;
    }

    .btn {
      border: none;
      border-radius: 10px;
      padding: 10px 16px;
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      color: #fff;
      font-weight: bold;
      cursor: pointer;
      transition: opacity 0.2s ease, transform 0.2s ease;
    }

    .btn:hover {
      opacity: 0.9;
      transform: scale(1.05);
    }

    #add {
      width: 100%;
      max-width: 250px;
      margin-top: 14px;
      font-size: 1rem;
    }
  </style>
</head>

<body>
  <div id="header"></div>

  <main class="container">
    <article class="raffle-detail">
      <img id="raffle-img" class="cover" src="img/icons/placeholder.svg" alt="Rifa" />

      <div>
        <h1 id="raffle-title">Carregando...</h1>
        <p id="raffle-desc">Aguarde, estamos carregando as informa√ß√µes da rifa...</p>
        <p><strong>üí∞ Pre√ßo:</strong> R$ <span id="raffle-price">0,00</span></p>
        <p><strong>üìÖ Data do sorteio:</strong> <span id="raffle-date">31/12/2025</span></p>

        <div class="qty">
          <button class="btn" id="dec">‚àí</button>
          <input id="qty" type="number" value="1" min="1" />
          <button class="btn" id="inc">+</button>
        </div>

        <button id="add" class="btn btn-primary">üõí Adicionar ao carrinho</button>
      </div>
    </article>
  </main>

  <footer class="footer">
    <div class="container">
      <p>¬© 2025 BlinkGames ‚Äî Todos os direitos reservados.</p>
    </div>
  </footer>

  <div id="pacman-wrap">
    <canvas id="pacman-footer"></canvas>
  </div>

  <script type="module" src="js/state.js"></script>
  <script type="module" src="js/header.js"></script>
  <script type="module" src="js/api.js"></script>
  <script type="module" src="js/rifa.js"></script>
  <script type="module" src="js/pacman-bg.js"></script>

  <script>
    // Incremento e decremento direto (mant√©m funcionalidade JS inline separada)
    document.addEventListener("DOMContentLoaded", () => {
      const qtyInput = document.getElementById("qty");
      document.getElementById("inc").addEventListener("click", () => {
        qtyInput.value = Number(qtyInput.value) + 1;
      });
      document.getElementById("dec").addEventListener("click", () => {
        qtyInput.value = Math.max(1, Number(qtyInput.value) - 1);
      });
    });
  </script>
</body>
</html>




===== ./termos.html =====
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‚ö° Termos e Condi√ß√µes ‚Äî BlinkGames</title>

  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <link rel="manifest" href="site.webmanifest" />
  <link rel="stylesheet" href="css/style.css" />

  <style>
    main {
      margin-top: 60px;
      line-height: 1.8;
    }

    h1 {
      text-align: center;
      color: var(--accent-2);
      margin-bottom: 20px;
    }

    ul li {
      margin-bottom: 10px;
    }

    strong {
      color: var(--accent);
    }

    .panel {
      background: var(--panel);
      padding: 28px;
      border-radius: 16px;
      box-shadow: 0 0 25px rgba(255, 0, 200, 0.1), 0 0 50px rgba(0, 224, 255, 0.08);
    }

    a {
      color: var(--accent-2);
      text-decoration: none;
    }

    a:hover {
      color: var(--accent);
    }
  </style>
</head>

<body>
  <div id="header"></div>

  <main class="container">
    <section class="panel">
      <h1>‚ö° Termos e Condi√ß√µes</h1>

      <p>Bem-vindo(a) √† <strong>BlinkGames</strong> ‚Äî o portal gamer oficial de rifas e sorteios de consoles, jogos e perif√©ricos.
      Ao participar de qualquer promo√ß√£o, voc√™ declara estar ciente e de acordo com as condi√ß√µes abaixo:</p>

      <ul style="margin-top: 16px; list-style: none; padding-left: 0;">
        <li>üéÆ Todas as rifas s√£o realizadas de forma <strong>transparente e rastre√°vel</strong>, com n√∫meros √∫nicos e confer√™ncia p√∫blica.</li>
        <li>üèõÔ∏è Os sorteios seguem o <strong>modelo legal de premia√ß√£o por sorteio</strong> previsto na Portaria n¬∫ 422/2013 do Minist√©rio da Fazenda e nas normas da Caixa Econ√¥mica Federal.</li>
        <li>üë§ A participa√ß√£o √© restrita a <strong>pessoas maiores de 18 anos</strong> com CPF v√°lido e endere√ßo no territ√≥rio nacional.</li>
        <li>üí≥ Ap√≥s a confirma√ß√£o do pagamento, o n√∫mero √© considerado <strong>ativo e intransfer√≠vel</strong>. N√£o h√° cancelamento ou reembolso, conforme o art. 49 do C√≥digo de Defesa do Consumidor (Lei 8.078/90), inciso que prev√™ exce√ß√£o para servi√ßos personalizados e de sorteios.</li>
        <li>‚è±Ô∏è N√∫meros reservados expiram em at√© <strong>10 minutos</strong> se o pagamento n√£o for identificado, retornando automaticamente ao sistema.</li>
        <li>üèÜ Os vencedores s√£o divulgados na p√°gina <a href="vencedores.html">Vencedores</a> e notificados por e-mail cadastrado.</li>
        <li>‚öôÔ∏è A BlinkGames se reserva o direito de <strong>adiar ou reagendar sorteios</strong> em caso de falhas t√©cnicas, instabilidade de servidores ou motivos de for√ßa maior.</li>
        <li>üïπÔ∏è √â vedado o uso de bots, scripts autom√°ticos ou qualquer meio que tente burlar o sistema. Casos suspeitos ser√£o analisados e podem resultar em banimento.</li>
      </ul>

      <p style="margin-top: 20px;">
        Ao participar, o usu√°rio declara estar ciente de que a BlinkGames atua como <strong>plataforma intermediadora de rifas audit√°veis e seguras</strong>,
        cumprindo todas as diretrizes legais aplic√°veis.
      </p>

      <p style="margin-top: 14px; opacity: 0.85;">
        üìß D√∫vidas? Fale com nosso suporte: <strong>blinkgamesoficial@hotmail.com</strong>
      </p>

      <p style="margin-top: 20px; font-size: 0.9rem; opacity: 0.75;">
        ¬© 2025 BlinkGames. Todos os direitos reservados.<br />
        Plataforma audit√°vel e segura.<br />
        Certifica√ß√£o baseada nas diretrizes da Caixa Econ√¥mica Federal e Minist√©rio da Fazenda.
      </p>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <p>¬© 2025 BlinkGames ‚Äî Todos os direitos reservados.</p>
    </div>
  </footer>

  <div id="pacman-wrap">
    <canvas id="pacman-footer"></canvas>
  </div>

  <script type="module" src="js/state.js"></script>
  <script type="module" src="js/header.js"></script>
  <script type="module" src="js/api.js"></script>
  <script type="module" src="js/pacman-bg.js"></script>
</body>
</html>




===== ./carrinho.html =====
<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üõí Carrinho ‚Äî BlinkGames</title>

    <link rel="manifest" href="site.webmanifest" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="stylesheet" href="css/style.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper/swiper-bundle.min.css"
    />

    <style>
      h1 {
        color: var(--accent-2);
        margin-bottom: 20px;
      }

      #list .panel {
        background: var(--panel);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      #list .panel:hover {
        transform: scale(1.01);
        box-shadow: 0 0 20px rgba(255, 0, 200, 0.2),
          0 0 40px rgba(0, 224, 255, 0.1);
      }

      #checkout {
        background: linear-gradient(90deg, var(--accent), var(--accent-2));
        font-weight: bold;
      }

      #checkout:hover {
        opacity: 0.9;
        transform: scale(1.03);
      }

      @media (max-width: 640px) {
        main.container {
          padding: 0 10px;
        }
        .panel {
          flex-direction: column;
          text-align: center;
        }
      }
    </style>
  </head>

  <body>
    <!-- Cabe√ßalho -->
    <div id="header"></div>

    <!-- ============================================================ -->
    <!-- üõí CONTE√öDO PRINCIPAL -->
    <!-- ============================================================ -->
    <main class="container">
      <h1>üõçÔ∏è Seu carrinho</h1>

      <!-- Vazio -->
      <div id="empty" class="panel" style="text-align:center; opacity: 0.8;">
        Carrinho vazio.<br />
        <a href="rifas.html" class="btn btn-primary" style="margin-top:10px;">Ver rifas dispon√≠veis</a>
      </div>

      <!-- Lista -->
      <ul id="list" style="list-style:none;padding:0;margin:0"></ul>

      <!-- Total -->
      <div
        class="panel"
        style="display:flex;justify-content:space-between;align-items:center;margin-top:14px;"
      >
        <strong>Total: <span id="total">R$ 0,00</span></strong>
        <button id="checkout" class="btn btn-primary">Finalizar compra</button>
      </div>
    </main>

    <!-- ============================================================ -->
    <!-- ‚ö° RODAP√â -->
    <!-- ============================================================ -->
    <footer class="footer">
      <div class="container">
        <p>¬© 2025 BlinkGames ‚Äî Todos os direitos reservados.</p>
      </div>
    </footer>

    <!-- üëæ PAC-MAN -->
    <div id="pacman-wrap"><canvas id="pacman-bg" height="58"></canvas></div>

    <!-- ============================================================ -->
    <!-- üöÄ SCRIPTS (na ordem certa) -->
    <!-- ============================================================ -->
    <script type="module" src="js/state.js"></script>
    <script type="module" src="js/header.js"></script>
    <script type="module" src="js/api.js"></script>

    <!-- üî• Carrinho deve carregar depois de tudo -->
    <script type="module">
      import "./js/cart.js";
    </script>

    <script type="module" src="js/pacman-bg.js"></script>
  </body>
</html>




===== ./conta.html =====
<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Minha Conta ‚Äî BlinkGames</title>

    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="stylesheet" href="css/style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />

    <style>
      main {
        max-width: 900px;
        margin: 60px auto;
        text-align: center;
      }

      .auth-container {
        display: flex;
        flex-wrap: wrap;
        gap: 30px;
        justify-content: center;
      }

      .panel {
        background: var(--panel);
        padding: 32px;
        border-radius: 16px;
        box-shadow: 0 0 20px rgba(255, 0, 200, 0.15),
          0 0 40px rgba(0, 224, 255, 0.1);
        width: 380px;
        text-align: left;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .panel:hover {
        transform: translateY(-4px);
        box-shadow: 0 0 25px rgba(255, 0, 200, 0.25),
          0 0 50px rgba(0, 224, 255, 0.15);
      }

      h1 {
        margin-bottom: 40px;
        color: var(--accent-2);
      }

      h2 {
        text-align: center;
        color: var(--accent);
        font-size: 1.2rem;
        margin-bottom: 10px;
      }

      label {
        display: block;
        margin-top: 14px;
        margin-bottom: 4px;
        color: #bbb;
        font-size: 0.9rem;
      }

      input {
        width: 100%;
        padding: 10px 12px;
        border-radius: 8px;
        border: none;
        outline: none;
        background: #1c0135;
        color: #fff;
        font-size: 0.95rem;
      }

      input:focus {
        box-shadow: 0 0 0 2px var(--accent);
      }

      .btn {
        margin-top: 18px;
        width: 100%;
        padding: 10px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        background: linear-gradient(90deg, var(--accent), var(--accent-2));
        color: #fff;
        font-weight: bold;
        transition: opacity 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
      }

      .btn:hover {
        opacity: 0.9;
        transform: scale(1.02);
        box-shadow: 0 0 10px var(--accent-2);
      }

      .forgot-link {
        text-align: right;
        margin-top: 10px;
      }

      .forgot-link a {
        color: var(--accent-2);
        font-size: 0.9rem;
        text-decoration: none;
        transition: color 0.2s ease;
      }

      .forgot-link a:hover {
        color: var(--accent);
      }

      @media (max-width: 840px) {
        .auth-container {
          flex-direction: column;
          align-items: center;
        }
        .panel {
          width: 100%;
          max-width: 420px;
        }
      }
    </style>
  </head>

  <body>
    <div id="header"></div>

    <main>
      <h1>üéÆ Acesse sua conta</h1>

      <div class="auth-container">
        <!-- Login -->
        <section class="panel">
          <h2>Entrar</h2>
          <form id="login-form">
            <label for="email">Email</label>
            <input type="email" id="email" placeholder="seuemail@exemplo.com" required />

            <label for="password">Senha</label>
            <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required />

            <div class="forgot-link">
              <a href="recuperar.html">Esqueci minha senha</a>
            </div>

            <button class="btn" type="submit">Entrar</button>
          </form>
        </section>

        <!-- Registro -->
        <section class="panel">
          <h2>Criar conta</h2>
          <form id="register-form">
            <label for="rname">Nome completo</label>
            <input type="text" id="rname" placeholder="Seu nome completo" required />

            <label for="remail">Email</label>
            <input type="email" id="remail" placeholder="seuemail@exemplo.com" required />

            <label for="rcpf">CPF</label>
            <input type="text" id="rcpf" placeholder="000.000.000-00" required />

            <label for="rpassword">Senha</label>
            <input type="password" id="rpassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required />

            <label for="rconfirm">Confirmar senha</label>
            <input type="password" id="rconfirm" placeholder="Repita sua senha" required />

            <button class="btn" type="submit">Registrar</button>
          </form>
        </section>
      </div>
    </main>

    <footer class="footer">
      <div class="container">
        <p>¬© 2025 BlinkGames ‚Äî Todos os direitos reservados.</p>
      </div>
    </footer>

    <div id="pacman-wrap"><canvas id="pacman-bg" height="58"></canvas></div>

    <!-- üöÄ Scripts na ordem correta -->
    <script type="module" src="js/state.js"></script>
    <script type="module" src="js/header.js"></script>
    <script type="module" src="js/api.js"></script>
    <script type="module" src="js/pacman-bg.js"></script>
    <script type="module" src="js/auth.js"></script> <!-- üîπ AGORA POR √öLTIMO -->
  </body>
</html>




